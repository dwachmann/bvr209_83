<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- 
     $Id$
     
     Copyright (C) 2008-2009 Dorothea Wachmann
     
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or
     (at your option) any later version.
     
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
     
     You should have received a copy of the GNU General Public License
     along with this program.  If not, see http://www.gnu.org/licenses/.
  -->
<versions xmlns="urn:bvr20983" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:bvr20983 versions.xsd">
	<parameter name="filenamepattern">#{LCase("${../../../@id}")}.${../../../v:versionhistory/v:version[1]/@major}.${../../@id}.${../../v:version/@major}</parameter>
	<parameter name="filenamepattern1">#{LCase("${../../@id}")}.${../../v:versionhistory/v:version[1]/@major}.${../../v:versionhistory/v:version[1]/@minor}.${../../v:versionhistory/v:version[1]/@fix}</parameter>
	<parameter name="guidpattern">${../../../../v:no/text()}-#{zerofill("${../../../../v:versionhistory/v:version[1]/@major}",4)}-${../../v:no/text()}-${../../@typeid}-#{zerofill("${../../v:version/@major}",4)}FFFFFFFF</parameter>
	<parameter name="typelibguidpattern">${../../../../v:no/text()}-#{zerofill("${../../../../v:versionhistory/v:version[1]/@major}",4)}-${../../v:no/text()}-${../../@typeid}-FFFFFFFFFFFF</parameter>
	<parameter name="msicomppattern">${../../../v:no/text()}-#{zerofill("${../../../v:versionhistory/v:version[1]/@major}",4)}-0103-${../../v:no/text()}-#{zerofill("${../../v:version/@major}",4)}#{zerofill("${../../v:version/@minor}",4)}#{zerofill("${../../v:version/@fix}",4)}</parameter>
	<parameter name="msicomppattern1">${../../../../v:no/text()}-#{zerofill("${../../../v:version[1]/@major}",4)}-0103-0000-0000</parameter>
	<parameter name="msiprodpattern">${../../../../v:no/text()}-#{zerofill("${../../@major}",4)}-0100-${../../v:msino/text()}-FFFFFFFFFFFF</parameter>
	<parameter name="msipackpattern">${../../../../v:no/text()}-#{zerofill("${../../@major}",4)}-0101-#{zerofill("${../../@minor}",4)}-#{zerofill("${../../@fix}",4)}FFFFFFFF</parameter>
	<parameter name="msipatchpattern">${../../../../v:no/text()}-#{zerofill("${../../@major}",4)}-0104-#{zerofill("${../../@minor}",4)}-#{zerofill("${../../@fix}",4)}FFFFFFFF</parameter>
	<parameter name="msiupdpattern">${../../../../v:no/text()}-0001-0102-FFFF-FFFFFFFFFFFF</parameter>
	<product id="BVR20983" commit="${commit}">
		<versionhistory>
			<version major="0" minor="1" fix="0" build="260">

        <msipackagecode>${msipackpattern}</msipackagecode>
				<msiproductcode>${msiprodpattern}</msiproductcode>
				<msicomponent>${msicomppattern1}</msicomponent>
				<msiupgradecode>${msiupdpattern}</msiupgradecode>
				<msipatchcode>${msipatchpattern}</msipatchcode>
				<msino>0001</msino>

        <msifeatures>
          <msifeature id="sc"         directory="TARGETDIR" level="1" attribute="0" title="Smartcard Library"      description="A COM Library to access a smartcard">
            <msicomponent compid="sc"/>
            <msicomponent compid="msgs"/>
            <msicomponent compid="res"/>
            <msicomponent compid="update"/>
            <msicomponent compid="doc"/>
            <msicomponent compid="globalregistryentries"/>
          </msifeature>
          <msifeature id="cc"         directory="TARGETDIR" level="1" attribute="0" title="Custom Control Library" description="A OCX Library with several controls">
            <msicomponent compid="cc"/>
            <msicomponent compid="msgs"/>
            <msicomponent compid="res"/>
            <msicomponent compid="update"/>
            <msicomponent compid="doc"/>
            <msicomponent compid="com"/>
          </msifeature>

          <msifeature id="demo"       directory="TARGETDIR" level="3" attribute="0" title="Demo"                   description="Demo Programs">
            <msifeature id="digiclock"  directory="TARGETDIR" level="3" attribute="0" title="A digital clock"        description="A Testfile for the digital clock control">
              <msicomponent compid="digiclock"/>
              <msicomponent compid="cc"/>
              <msicomponent compid="msgs"/>
              <msicomponent compid="res"/>
              <msicomponent compid="update"/>
              <msicomponent compid="com"/>
            </msifeature>
            <msifeature id="samples"    directory="TARGETDIR" level="3" attribute="0" title="Samples"                description="Usage Samples">
              <msicomponent compid="sample"/>
              <msicomponent compid="doc"/>
              <msicomponent compid="cc"/>
              <msicomponent compid="sc"/>
              <msicomponent compid="msgs"/>
              <msicomponent compid="res"/>
              <msicomponent compid="update"/>
              <msicomponent compid="inc"/>
              <msicomponent compid="lib"/>
            </msifeature>
          </msifeature>

          <msifeature id="tools"      directory="TARGETDIR" level="2" attribute="0" title="Tools"                  description="Tools">
            <msifeature id="lsstg"    directory="TARGETDIR"   level="2" attribute="0" title="lsstg"                  description="Display compound file structure">
              <msicomponent compid="lsstg"/>
              <msicomponent compid="inc"/>
            </msifeature>

            <msifeature id="lstypeinfo" directory="TARGETDIR" level="2" attribute="0" title="lstypeinfo"             description="Display typelib information">
              <msicomponent compid="lstypeinfo"/>
            </msifeature>
          </msifeature>
        </msifeatures>

        <msiproperties>
          <msiproperty key="ProductCode	">${../../../v:msiproductcode/text()}</msiproperty>
          <msiproperty key="ProductName">${../../../../../v:name/text()}</msiproperty>
          <msiproperty key="Manufacturer">${../../../../../v:company/text()}</msiproperty>
          <msiproperty key="ProductVersion">${../../../@major}.${../../../@minor}.0</msiproperty>
          <msiproperty key="@ProductId@">#{UCase("${../../../../../@id}")}</msiproperty>
          <msiproperty key="ARPHELPLINK">http://#{LCase("${../../../../../@id}")}.berlios.de/</msiproperty>
          <msiproperty key="ARPURLINFOABOUT">http://developer.berlios.de/projects/#{LCase("${../../../../../@id}")}</msiproperty>
          <msiproperty key="ARPURLUPDATEINFO">http://#{LCase("${../../../../../@id}")}.berlios.de/msi/</msiproperty>
          <msiproperty key="@GITURL@">git://git.berlios.de/#{LCase("${../../../../../@id}")}</msiproperty>
          <msiproperty key="UpgradeCode">#{UCase("${../../../v:msiupgradecode/text()}")}</msiproperty>
          <msiproperty key="ComponentDownload">http://#{LCase("${../../../../../@id}")}.berlios.de/update/</msiproperty>
        </msiproperties>

        <msipatch>
          <msipatchmetadata>
            <msiproperty key="ManufacturerName">${../../../../../v:company/text()}</msiproperty>
            <msiproperty key="MoreInfoURL">http://#{LCase("${../../../../../@id}")}.berlios.de/</msiproperty>
            <msiproperty key="TargetProductName">${../../../../../v:name/text()}</msiproperty>
            <msiproperty key="DisplayName">${../../../../../v:name/text()} Update</msiproperty>
            <msiproperty key="Description">#{LCase("${../../../../../@id}")} MSI Patch</msiproperty>
            <msiproperty key="AllowRemoval">1</msiproperty>
            <msiproperty key="Classification">update</msiproperty>
          </msipatchmetadata>
        </msipatch>
      </version>

      <version major="0" minor="0" fix="1" build="0">
				<msipackagecode>${msipackpattern}</msipackagecode>
				<msiproductcode>${msiprodpattern}</msiproductcode>
				<msicomponent>${msicomppattern1}</msicomponent>
				<msiupgradecode>${msiupdpattern}</msiupgradecode>
				<msipatchcode>${msipatchpattern}</msipatchcode>
				<msino>0001</msino>
			</version>
			<version major="0" minor="0" fix="0" build="0">
				<msipackagecode>${msipackpattern}</msipackagecode>
				<msiproductcode>${msiprodpattern}</msiproductcode>
				<msicomponent>${msicomppattern1}</msicomponent>
				<msiupgradecode>${msiupdpattern}</msiupgradecode>
				<msipatchcode>${msipatchpattern}</msipatchcode>
				<msino>0001</msino>
			</version>
		</versionhistory>
    
		<name>BVR2098 Suite</name>
		<no>BFE20983</no>
		<company>Dorothea Wachmann</company>
		<copyright>Copyright (c) 2008-2009 ${../../v:company/text()}</copyright>
		<filename>${filenamepattern1}</filename>
		<patch template="bvr20983volatile-ver.tmpl" filename="bvr20983volatile-ver.h">
			<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
				<value>$1${builddate}$3</value></pattern>
			<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
				<value>$1${commit}$3</value></pattern>
			<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
				<value>$1${debugver}$3</value></pattern>
			<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
				<value>$1${../../../../v:versionhistory/v:version[1]/@major}.${../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
			<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
				<value>$1${../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
			<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
				<value>$1${../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
			<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
				<value>$1${../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
		</patch>
		<patch template="Makefile.inc.tmpl" filename="Makefile.inc">
			<pattern><key>@bvr20983resresult</key><value>${../../../../v:component[@id='res']/v:filename/text()}</value></pattern>
			<pattern><key>@bvr20983ccresult</key><value>${../../../../v:component[@id='cc']/v:filename/text()}</value></pattern>
			<pattern><key>@bvr20983scresult</key><value>${../../../../v:component[@id='sc']/v:filename/text()}</value></pattern>
			<pattern><key>@bvr20983updateresult</key><value>${../../../../v:component[@id='update']/v:filename/text()}</value></pattern>
			<pattern><key>@digiclockresult</key><value>${../../../../v:component[@id='digiclock']/v:filename/text()}</value></pattern>
			<pattern><key>@lsstgresult</key><value>${../../../../v:component[@id='lsstg']/v:filename/text()}</value></pattern>
			<pattern><key>@lstypeinforesult</key><value>${../../../../v:component[@id='lstypeinfo']/v:filename/text()}</value></pattern>
			<pattern><key>@msicabresult</key><value>${../../../../v:component[@id='msicab']/v:filename/text()}</value></pattern>
			<pattern><key>@bvr20983msgsresult</key><value>${../../../../v:component[@id='msgs']/v:filename/text()}</value></pattern>
			<pattern><key>@bvr20983result</key><value>${../../../../v:filename/text()}</value></pattern>
			<pattern><key>@bvr20983desc</key><value>${../../../../v:name/text()}</value></pattern>
			<pattern><key>@bvr20983msipackagecode</key><value>${../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}</value></pattern>
			<pattern><key>@bvr20983msicompany</key><value>${../../../../v:company/text()}</value></pattern>
		</patch>
		<patch template="bvr20983.inf.tmpl" filename="bvr20983.2.inf">
			<pattern><key>@bvr20983msgsresult</key><value>${../../../../v:component[@id='msgs']/v:filename/text()}.dll</value></pattern>
			<pattern><key>@bvr20983ccresult</key><value>${../../../../v:component[@id='cc']/v:filename/text()}.dll</value></pattern>
			<pattern><key>@bvr20983scresult</key><value>${../../../../v:component[@id='sc']/v:filename/text()}.dll</value></pattern>
			<pattern>
				<key>@bvr20983updateresult</key>
				<value>${../../../../v:component[@id='update']/v:filename/text()}.dll</value>
			</pattern>
			<pattern><key>@digiclockresult</key><value>${../../../../v:component[@id='digiclock']/v:filename/text()}.exe</value></pattern>
			<pattern><key>@lsstgresult</key><value>${../../../../v:component[@id='lsstg']/v:filename/text()}.exe</value></pattern>
			<pattern><key>@lstypeinforesult</key><value>${../../../../v:component[@id='lstypeinfo']/v:filename/text()}.exe</value></pattern>
			<pattern><key>@bvr20983result</key><value>${../../../../v:filename/text()}.cab</value></pattern>
			<pattern><key>@publisher</key><value>${../../../../v:company/text()}</value></pattern>
			<pattern><key>@productprefix</key><value>${../../../../v:filename/text()}</value></pattern>
			<pattern><key>@productname</key><value>${../../../../v:name/text()}</value></pattern>
			<pattern><key>@productmajorversion</key><value>${../../../../v:versionhistory/v:version[1]/@major}</value></pattern>
			<pattern><key>@productminorversion</key><value>${../../../../v:versionhistory/v:version[1]/@minor}</value></pattern>
			<pattern><key>@productid</key><value>#{LCase("${../../../../@id}")}</value></pattern>
			<pattern><key>@bvr20983ocx1</key><value>${../../../../v:component[@id='cc']/v:type[@id='LED']/v:guid/text()}</value></pattern>
		</patch>
		<patch filename="bvr20983-prod.h">
			<pattern><key>(^#define.+verProdName.+")(.+)(")</key>
				<value>$1${../../../../v:name/text()}$3</value></pattern>
			<pattern><key>(^#define.+verCompName.+")(.+)(")</key>
				<value>$1${../../../../v:company/text()}$3</value></pattern>
			<pattern><key>(^#define.+verCopyright.+")(.+)(")</key>
				<value>$1${../../../../v:copyright/text()}$3</value></pattern>
			<pattern><key>(^#define.+verProdVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:versionhistory/v:version[1]/@major}.${../../../../v:versionhistory/v:version[1]/@minor}.${../../../../v:versionhistory/v:version[1]/@fix}.${../../../../v:versionhistory/v:version[1]/@build}$3</value></pattern>
			<pattern><key>(^#define.+verProdVer[^0-9]+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
				<value>$1${../../../../v:versionhistory/v:version[1]/@major},${../../../../v:versionhistory/v:version[1]/@minor},${../../../../v:versionhistory/v:version[1]/@fix},${../../../../v:versionhistory/v:version[1]/@build}$3</value></pattern>
			<pattern><key>(^#define.+verProdPrefix[ \t]+)(.*)</key>
				<value>$1"#{LCase("${../../../../@id}")}.${../../../../v:versionhistory/v:version[1]/@major}"</value></pattern>
		</patch>
    
		<component id="res" type="dll">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>Resource Library</name>
			<no>0001</no>
			<filename>${filenamepattern}</filename>
			<patch filename="bvr20983res-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer[^0-9]+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
			</patch>
		</component>
		<component id="msgs" type="dll">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>Product installation and message component</name>
			<no>0002</no>
			<filename>${filenamepattern}</filename>
			<patch filename="bvr20983msgs-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer.+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
			</patch>
			<patch template="bvr20983msgs.manifest.tmpl" filename="bvr20983msgs.manifest">
				<pattern><key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value></pattern>
				<pattern><key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern><key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value></pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
		</component>
		<component id="update" type="dll">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>Autoupdate component</name>
			<no>0003</no>
			<filename>${filenamepattern}</filename>
			<patch filename="bvr20983update-ver.h">
				<pattern>
					<key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key>
					<value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verFileVer.+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value>
				</pattern>
				<pattern>
					<key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value>
				</pattern>
			</patch>
			<patch template="bvr20983update.manifest.tmpl" filename="bvr20983update.manifest">
				<pattern>
					<key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value>
				</pattern>
				<pattern>
					<key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern>
					<key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value>
				</pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
		</component>
		<component id="sc" type="dll">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>Smartcard Library</name>
			<no>0004</no>
			<filename>${filenamepattern}</filename>
			<patch filename="bvr20983sc-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer[^0-9]+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
			</patch>
			<patch template="bvr20983sc.manifest.tmpl" filename="bvr20983sc.manifest">
				<pattern><key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value></pattern>
				<pattern><key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern><key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value></pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
			<type id="IAPDU" typeid="0002">
				<version major="1"/>
				<no>0001</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="IATR" typeid="0002">
				<version major="1"/>
				<no>0002</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="ISmartcard" typeid="0002">
				<version major="1"/>
				<no>0003</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="IWallet" typeid="0002">
				<version major="1"/>
				<no>0004</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="DISmartcardEvent" typeid="0004">
				<version major="1"/>
				<no>0001</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="Smartcard" typeid="0010">
				<version major="1"/>
				<no>0001</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="ATR" typeid="0010">
				<version major="1"/>
				<no>0002</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="Wallet" typeid="0012">
				<version major="1"/>
				<no>0001</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="ResponseEnum" typeid="0020">
				<version major="1"/>
				<no>0001</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="FeaturesEnum" typeid="0020">
				<version major="1"/>
				<no>0002</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="PinCodingEnum" typeid="0020">
				<version major="1"/>
				<no>0003</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="AttributesEnum" typeid="0020">
				<version major="1"/>
				<no>0004</no>
				<guid>${guidpattern}</guid>
			</type>
			<typelib id="SC" typeid="0000">
				<version major="1" minor="0"/>
				<no>0001</no>
				<guid>${typelibguidpattern}</guid>
				<patch template="ibvr20983-0000.tmpl" filename="ibvr20983-0000.odl">
					<pattern><key>@typelibVersion</key>
						<value>${../../../../v:version/@major}.${../../../../v:version/@minor}</value></pattern>
					<pattern><key>@typelibGUID</key>
						<value>${../../../../v:guid/text()}</value>
					</pattern>
					<pattern><key>@typelibName</key>
						<value>${../../../../../../@id}_${../../../../../../v:versionhistory/v:version[1]/@major}_${../../../../@id}</value>
					</pattern>
					<pattern><key>@DISmartcardEventGUID</key><value>${../../../../../v:type[@id='DISmartcardEvent']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@IAPDUGUID</key>
						<value>${../../../../../v:type[@id='IAPDU']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@IATRGUID</key>
						<value>${../../../../../v:type[@id='IATR']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@ISmartcardGUID</key>
						<value>${../../../../../v:type[@id='ISmartcard']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@IWalletGUID</key>
						<value>${../../../../../v:type[@id='IWallet']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@ResponseEnumGUID</key>
						<value>${../../../../../v:type[@id='ResponseEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@FeaturesEnumGUID</key>
						<value>${../../../../../v:type[@id='FeaturesEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@PinCodingEnumGUID</key>
						<value>${../../../../../v:type[@id='PinCodingEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@AttributesEnumGUID</key>
						<value>${../../../../../v:type[@id='AttributesEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@smardcardGUID</key>
						<value>${../../../../../v:type[@id='Smartcard']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@atrGUID</key>
						<value>${../../../../../v:type[@id="ATR"]/v:guid/text()}</value>
					</pattern>
					<pattern><key>@walletGUID</key>
						<value>${../../../../../v:type[@id="Wallet"]/v:guid/text()}</value>
					</pattern>
				</patch>
				<patch template="ibvr20983-0007.tmpl" filename="ibvr20983-0007.odl">
					<pattern><key>@typelibVersion</key>
						<value>${../../../../v:version/@major}.${../../../../v:version/@minor}</value></pattern>
					<pattern><key>@typelibGUID</key>
						<value>${../../../../v:guid/text()}</value>
					</pattern>
					<pattern><key>@typelibName</key>
						<value>${../../../../../../@id}_${../../../../../../v:versionhistory/v:version[1]/@major}_${../../../../@id}</value>
					</pattern>
					<pattern><key>@DISmartcardEventGUID</key><value>${../../../../../v:type[@id='DISmartcardEvent']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@IAPDUGUID</key>
						<value>${../../../../../v:type[@id='IAPDU']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@IATRGUID</key>
						<value>${../../../../../v:type[@id='IATR']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@ISmartcardGUID</key>
						<value>${../../../../../v:type[@id='ISmartcard']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@IWalletGUID</key>
						<value>${../../../../../v:type[@id='IWallet']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@ResponseEnumGUID</key>
						<value>${../../../../../v:type[@id='ResponseEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@FeaturesEnumGUID</key>
						<value>${../../../../../v:type[@id='FeaturesEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@PinCodingEnumGUID</key>
						<value>${../../../../../v:type[@id='PinCodingEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@AttributesEnumGUID</key>
						<value>${../../../../../v:type[@id='AttributesEnum']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@smardcardGUID</key>
						<value>${../../../../../v:type[@id='Smartcard']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@atrGUID</key>
						<value>${../../../../../v:type[@id="ATR"]/v:guid/text()}</value>
					</pattern>
					<pattern><key>@walletGUID</key>
						<value>${../../../../../v:type[@id="Wallet"]/v:guid/text()}</value>
					</pattern>
				</patch>
			</typelib>
		</component>
		<component id="cc" type="dll">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>Custom Control Library</name>
			<no>0005</no>
			<filename>${filenamepattern}</filename>
			<patch filename="bvr20983cc-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer.+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verAboutTitle.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verAboutText.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()} ${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
			</patch>
			<patch template="bvr20983cc.manifest.tmpl" filename="bvr20983cc.manifest">
				<pattern><key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value></pattern>
				<pattern><key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern><key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value></pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
			<patch filename="led.html">
				<pattern><key>(classid="clsid:)(.*)(")</key>
					<value>$1${../../../../v:type[@id='LED']/v:guid/text()}$3</value>
				</pattern>
				<pattern><key>(codebase=")(.*)(")</key>
					<value>$1./${../../../../../v:filename/text()}.cab#version=${../../../../../v:versionhistory/v:version[1]/@major},${../../../../../v:versionhistory/v:version[1]/@minor},${../../../../../v:versionhistory/v:version[1]/@fix},${../../../../../v:versionhistory/v:version[1]/@build}$3</value>
				</pattern>
			</patch>
			<type id="LED" typeid="0011">
				<version major="1"/>
				<no>0001</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="ILED" typeid="0002">
				<version major="1"/>
				<no>0005</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="DLEDEvent" typeid="0004">
				<version major="1"/>
				<no>0002</no>
				<guid>${guidpattern}</guid>
			</type>
			<type id="LEDPropertyPage" typeid="0013">
				<version major="1"/>
				<no>0001</no>
				<guid>${guidpattern}</guid>
			</type>
			<typelib id="CC" typeid="0000">
				<version major="1" minor="0"/>
				<no>0002</no>
				<guid>${typelibguidpattern}</guid>
				<patch template="ibvr20983cc-0000.tmpl" filename="ibvr20983cc-0000.odl">
					<pattern><key>@typelibVersion</key>
						<value>${../../../../v:version/@major}.${../../../../v:version/@minor}</value></pattern>
					<pattern><key>@typelibGUID</key>
						<value>${../../../../v:guid/text()}</value>
					</pattern>
					<pattern><key>@typelibName</key>
						<value>${../../../../../../@id}_${../../../../../../v:versionhistory/v:version[1]/@major}_${../../../../@id}</value>
					</pattern>
					<pattern><key>@LEDGUID</key>
						<value>${../../../../../v:type[@id='LED']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@ILEDGUID</key>
						<value>${../../../../../v:type[@id='ILED']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@LEDPropertyPageGUID</key>
						<value>${../../../../../v:type[@id='LEDPropertyPage']/v:guid/text()}</value>
					</pattern>
					<pattern><key>@DLEDEventGUID</key>
						<value>${../../../../../v:type[@id='DLEDEvent']/v:guid/text()}</value>
					</pattern>
				</patch>
			</typelib>
		</component>
		<component id="digiclock" type="exe">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>A digital clock</name>
			<no>0006</no>
			<filename>${filenamepattern}</filename>

      <shortcut id="digiclock" name="Digiclck|The Digiclock" 
                directoryid="StartupMenuFolder" 
                featureid="digiclock" 
                icon="bvr20983res.exe" iconindex="1"/>
      
			<patch filename="digiclock-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer.+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
			</patch>
			<patch template="digiclock.manifest.tmpl" filename="digiclock.manifest">
				<pattern><key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value></pattern>
				<pattern><key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern><key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value></pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
		</component>
		<component id="lsstg" type="exe">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>list COM structure storage</name>
			<no>0007</no>
			<filename>${filenamepattern}</filename>
			<patch filename="lsstg-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer.+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
			</patch>
			<patch template="lsstg.manifest.tmpl" filename="lsstg.manifest">
				<pattern><key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value></pattern>
				<pattern><key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern><key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value></pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
		</component>
		<component id="lstypeinfo" type="exe">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>list typeinfo of registered COM objects</name>
			<no>0008</no>
			<filename>${filenamepattern}</filename>
			<patch filename="lstypeinfo-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer.+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
			</patch>
			<patch template="lstypeinfo.manifest.tmpl" filename="lstypeinfo.manifest">
				<pattern><key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value></pattern>
				<pattern><key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern><key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value></pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
		</component>
		<component id="msicab" type="exe">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>create cabinet files and necessary msi information</name>
			<no>0009</no>
			<filename>${filenamepattern}</filename>
			<patch filename="msicab-ver.h">
				<pattern><key>(^#define.+verFileVer1.+")([0-9]+[\.][0-9]+[\.][0-9]+[\.][0-9]+)(".*)</key><value>$1${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileVer.+)([0-9]+[,][0-9]+[,][0-9]+[,][0-9]+)(.*)</key>
					<value>$1${../../../../v:version/@major},${../../../../v:version/@minor},${../../../../v:version/@fix},${../../../../v:version/@build}$3</value></pattern>
				<pattern><key>(^#define.+verFileDesc.+")(.+)(")</key>
					<value>$1${../../../../v:name/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMakeDate.+")(.+)(")</key>
					<value>$1${builddate}$3</value></pattern>
				<pattern><key>(^#define.+verCommit.+")(.+)(")</key>
					<value>$1${../../../../../@commit}$3</value></pattern>
				<pattern><key>(^#define.+verOrigName.+")(.+)(")</key>
					<value>$1${../../../../v:filename/text()}.${../../../../@type}$3</value></pattern>
				<pattern><key>(^#define.+verIntName.+")(.+)(")</key>
					<value>$1${../../../../@id}$3</value></pattern>
				<pattern><key>(^#define.+verCompPrefix.+")(.+)(")</key>
					<value>$1${../../../../@id}.${../../../../v:version/@major}$3</value></pattern>
				<pattern><key>(^#define.+verDebugVersion.+")(.+)(")</key>
					<value>$1${debugver}$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdVersion.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/@major}.${../../../../../v:versionhistory/v:version[1]/@minor}.0$3</value></pattern>
				<pattern><key>(^#define.+verMSIProdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiproductcode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIPackCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msipackagecode/text()}$3</value></pattern>
				<pattern><key>(^#define.+verMSIUpdCode.+")(.+)(")</key>
					<value>$1${../../../../../v:versionhistory/v:version[1]/v:msiupgradecode/text()}$3</value></pattern>
			</patch>
			<patch template="msicab.manifest.tmpl" filename="msicab.manifest">
				<pattern><key>@ASSEMBLY_NAME</key>
					<value>${../../../../v:filename/text()}</value></pattern>
				<pattern><key>@ASSEMBLY_VERSION</key>
					<value>${../../../../v:version/@major}.${../../../../v:version/@minor}.${../../../../v:version/@fix}.${../../../../v:version/@build}</value>
				</pattern>
				<pattern><key>@ASSEMBLY_PUBKEYTOKEN</key>
					<value>${signpubkeytok}</value></pattern>
				<pattern><key>@MSVCRTLIB_NAME</key>
					<value>${msvcrtlib_name}</value></pattern>
				<pattern><key>@MSVCRTLIB_VER</key>
					<value>${msvcrtlib_ver}</value></pattern>
				<pattern><key>@MSVCRTLIB_PUBTOK</key>
					<value>${msvcrtlib_pubtok}</value></pattern>
			</patch>
		</component>
		<component id="doc" type="dir">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>documentation files</name>
			<no>000A</no>
			<filename>doc</filename>
		</component>
		<component id="sample" type="dir">
			<version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
			<name>sample files</name>
			<no>000B</no>
			<filename>sample</filename>
		</component>
    <component id="com" type="dir">
      <version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
      <name>include files</name>
      <no>000D</no>
      <filename>inc\com</filename>
    </component>
    <component id="lib" type="file">
      <version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
      <name>Library file</name>
      <no>000E</no>
      <filename>libbvr20983xxx.lib</filename>
    </component>
    <component id="inc" type="dir">
      <version major="1" minor="0" fix="0" build="${../../../v:versionhistory/v:version[1]/@build}"/>
      <name>include files</name>
      <no>000C</no>
      <filename>inc</filename>
    </component>

    <registryentries id="globalregistryentries">
      <registry>
        <key hive="HKEY_CURRENT_USER">Software\#{LCase("${../../../../@id}")}.${../../../../v:versionhistory/v:version[1]/@major}\sc.${../../../../v:component[@id='sc']/v:version/@major}\logging</key>
        <name>tracelevel</name>
        <value>debug</value>
      </registry>
      <registry>
        <key hive="HKEY_CURRENT_USER">Software\#{LCase("${../../../../@id}")}.${../../../../v:versionhistory/v:version[1]/@major}\cc.${../../../../v:component[@id='cc']/v:version/@major}\logging</key>
        <name>tracelevel</name>
        <value>debug</value>
      </registry>
      <registry>
        <key hive="HKEY_CURRENT_USER">Software\#{LCase("${../../../../@id}")}.${../../../../v:versionhistory/v:version[1]/@major}\lsstg.${../../../../v:component[@id='lsstg']/v:version/@major}\logging</key>
        <name>tracelevel</name>
        <value>debug</value>
      </registry>
      <registry>
        <key hive="HKEY_CURRENT_USER">Software\#{LCase("${../../../../@id}")}.${../../../../v:versionhistory/v:version[1]/@major}\lstypeinfo.${../../../../v:component[@id='lstypeinfo']/v:version/@major}\logging</key>
        <name>tracelevel</name>
        <value>debug</value>
      </registry>

      <registry>
        <key hive="HKEY_CURRENT_USER">Software\#{LCase("${../../../../@id}")}.${../../../../v:versionhistory/v:version[1]/@major}\logging</key>
        <value>test</value>
      </registry>
    </registryentries>
  </product>
</versions>
